{# src/Demo/PlatformBundle/Resources/views/Advert/form.html.twig #}

{#Cette vue n'hérite de personne, elle sera incluse par d'autres vues qui,#}
{#   elles, hériteront probablement du layout. Je dis « probablement » car,#}
{#ici pour cette vue, on n'en sait rien et c'est une info qui ne nous concerne pas.#}
<h4>Formulaire d'annonce</h4>

{#On laisse vide la vue pour l'instant, on la comblera plus tard#}
{#lorsqu'on saura afficher un formulaire. #}
<div class="well">
  {#Affiche le form#}
  {#{{ form(form) }}#}
  {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }} 
  
  {# Gestion ds erreurs #}
  {{ form_errors(form) }}
  
  {{ form_row(form.date) }}
  
  <div class="form-group">
      {{ form_label(form.title, "Titre de l'annonce", {'label_attr': {'class': 'col-sm-6 control-label'}}) }}
      {{ form_errors(form.title) }}
      
      <div class="col-sm-10">
          {{ form_widget(form.title,  {'attr': {'class': 'form-control'}} ) }}
      </div>
   </div>
  
    <div class="form-group">
      {{ form_label(form.content, "Contenu de l'annonce", {'label_attr': {'class': 'col-sm-6 control-label'}}) }}
      {{ form_errors(form.content) }}
      
      <div class="col-sm-10">
          {{ form_widget(form.content,  {'attr': {'class': 'form-control'}} ) }}
      </div>
   </div>
  
    <div class="form-group">
      {{ form_label(form.author, "Auteur de l'annonce", {'label_attr': {'class': 'col-sm-6 control-label'}}) }}
      
      <div class="col-sm-10">
          {{ form_widget(form.author,  {'attr': {'class': 'form-control'}} ) }}
      </div>
    </div>
    <div class="form-group">
      {{ form_label(form.email, "Email de contact à l'annonce", {'label_attr': {'class': 'col-sm-6 control-label'}}) }}
      
      <div class="col-sm-10">
          {{ form_widget(form.email,  {'attr': {'class': 'form-control'}} ) }}
      </div>
  </div>
  
    {{ form_row(form.published) }}
  
    {{ form.image.vars.name }}
  
    {{ form_row(form.image.url) }}
    
    {{ form_row(form.image.alt) }}

    {{ form_row(form.categories) }}
    <a href="#" id="add_category" class="btn btn-default">Ajouter une catégorie</a>

    {#Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
    {{ form_widget(form.save, {'label': 'Enregistrer', 'attr': {'class': 'btn btn-primary'}} ) }}
    
    {#Génération automatique des champs pas encore écrits.#}
    {#Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)#}
    {#et tous les champs cachés (type « hidden »).#}
    {{ form_rest(form) }}
    
    {# Fermeture de la balise <form> du formulaire HTML #}
    {{ form_end(form) }}

</div>

{#{% block javascripts %}#}
{#  {{ parent() }}#}
{#  {% javascripts '@DemoPlatformBundle/Resources/public/js/*' %}#}
{#    <script src="{{ asset_url }}"></script>#}
{#  {% endjavascripts %}#}
{#{% endblock %}#}